<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi perfil - CarBid</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />

  <style>
    :root{
      --bg:#0f1115; --surface:#151822; --surface-2:#1b2030; --text:#e5e7eb; --muted:#9aa3b2;
      --brand:#ef4444; --ok:#22c55e; --bd:#262b3c; --focus:#3b82f6;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0;background: radial-gradient(1200px 400px at 10% -20%, #19203a40, transparent),
                         radial-gradient(900px 320px at 120% 10%, #3a192140, transparent), var(--bg);
      color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
    }
    .topbar{display:flex;align-items:center;gap:14px;padding:16px 20px;border-bottom:1px solid var(--bd);
      background:linear-gradient(0deg,rgba(21,24,34,.6),rgba(21,24,34,.6));backdrop-filter: blur(6px);position:sticky;top:0;z-index:10}
    .btn-back{display:inline-flex;align-items:center;gap:8px;background:transparent;color:var(--text);
      border:none;cursor:pointer;font-weight:600;font-size:15px;padding:8px 10px;border-radius:10px}
    .btn-back:hover{background:#ffffff12}.topbar img{height:36px}
    .profile-wrapper{max-width:980px;margin:40px auto;padding:0 16px}
    .page-title{font-size: clamp(22px, 3.5vw, 48px);margin:0 0 10px;font-weight:800}
    .subtitle{color:var(--muted);margin:0 0 22px}
    .card{background:linear-gradient(180deg,var(--surface),var(--surface-2));border:1px solid var(--bd);
      border-radius:18px;padding:22px;box-shadow:0 12px 40px rgba(0,0,0,.35)}
    form#profileForm{display:grid;gap:18px;grid-template-columns:1fr 1fr}
    @media (max-width:820px){form#profileForm{grid-template-columns:1fr}}
    .field{display:flex;flex-direction:column;gap:8px}.field label{font-weight:700;font-size:14px}
    .hint{font-size:12px;color:var(--muted);margin-top:-4px}
    .input-wrapper{position:relative}.input{
      width:100%;border:1px solid var(--bd);background:#0d1020;color:var(--text);border-radius:12px;
      padding:12px 14px 12px 42px;outline:none;transition:.15s ease;box-shadow: inset 0 0 0 1px transparent}
    .input:focus{border-color:var(--focus);box-shadow:0 0 0 3px #3b82f622,inset 0 0 0 1px #3b82f6}
    .icon-left{position:absolute;inset:0 auto 0 12px;display:grid;place-items:center;color:#7f8aa3;font-size:16px;pointer-events:none}
    .toggle-pass{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:transparent;
      color:#8ea2c0;font-size:18px;width:36px;height:36px;border-radius:10px;cursor:pointer}
    .toggle-pass:hover{background:#ffffff12}
    .checkboxes{display:flex;align-items:center;gap:22px;flex-wrap:wrap;padding:14px;border:1px dashed var(--bd);
      border-radius:12px;background:#0d1020}
    .chk{display:flex;align-items:center;gap:10px}.chk input{width:18px;height:18px;accent-color:var(--brand)}
    .chk span{font-weight:600}
    .actions{display:flex;gap:12px;justify-content:flex-end}
    .btn{border:none;border-radius:12px;padding:12px 18px;font-weight:800;cursor:pointer;transition:.15s ease}
    .btn-primary{background:var(--brand);color:#fff}.btn-primary:hover{filter:brightness(.96)}
    .btn-ghost{background:#ffffff12;color:#fff}.btn-ghost:hover{background:#ffffff1f}
    .error{color:#ff7676;font-size:12px;font-weight:700;min-height:14px}
  </style>
</head>
<body>
  <header class="topbar">
    <button class="btn-back" onclick="history.back()"><i class="fa fa-arrow-left"></i> Regresar</button>
    <img src="img/logo.png" alt="CarBid" />
  </header>

  <main class="profile-wrapper">
    <h1 class="page-title">Mi perfil</h1>
    <p class="subtitle">Actualiza tu información y tus roles de compra/venta.</p>

    <form id="profileForm" class="card" novalidate>
      <div class="field">
        <label for="correo">Correo</label>
        <div class="input-wrapper">
          <i class="fa fa-envelope icon-left"></i>
          <input type="email" id="correo" class="input" placeholder="tu@correo.com" required />
        </div>
        <small id="err-correo" class="error"></small>
      </div>

      <div class="field">
        <label for="nombre">Usuario</label>
        <div class="input-wrapper">
          <i class="fa fa-user icon-left"></i>
          <input type="text" id="nombre" class="input" placeholder="Tu nombre de usuario" required />
        </div>
        <small id="err-nombre" class="error"></small>
      </div>

      <div class="field" style="grid-column:1/-1">
        <label for="password">Nueva contraseña (opcional)</label>
        <div class="input-wrapper">
          <i class="fa fa-lock icon-left"></i>
          <input type="password" id="password" class="input" placeholder="Deja vacío para no cambiar" />
          <button type="button" class="toggle-pass" id="togglePassword" aria-label="Mostrar u ocultar">
            <i class="fa fa-eye"></i>
          </button>
        </div>
        <p class="hint">Debe ser segura si decides cambiarla.</p>
        <small id="err-password" class="error"></small>
      </div>

      <div class="field" style="grid-column:1/-1">
        <div class="checkboxes">
          <label class="chk"><input type="checkbox" id="vendedor" /><span>Quiero Vender</span></label>
          <label class="chk"><input type="checkbox" id="comprador" /><span>Quiero Comprar</span></label>
        </div>
      </div>

      <div class="actions" style="grid-column:1/-1">
        <button type="button" class="btn btn-ghost" onclick="history.back()">Cancelar</button>
        <button type="submit" class="btn btn-primary">Aceptar</button>
      </div>
    </form>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="js/perfil.js"></script>
  <script>
    // respaldo por si no existe el handler en perfil.js (no interfiere)
    const togglePassword = document.getElementById('togglePassword');
    const pass = document.getElementById('password');
    if (togglePassword && pass) {
      togglePassword.addEventListener('click', (e) => {
        e.preventDefault();
        const show = pass.type === 'password';
        pass.type = show ? 'text' : 'password';
        const i = togglePassword.querySelector('i');
        if (i){ i.classList.toggle('fa-eye', !show); i.classList.toggle('fa-eye-slash', show); }
      });
    }
  </script>
</body>
</html>
