<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel del Vendedor - CarBid</title>
  <link rel="stylesheet" href="css/panel-vendedor.css">
</head>

<script>
  // Lee la sesión guardada
  const userId   = localStorage.getItem('userId');
  const userName = localStorage.getItem('userName'); // opcional

  // Si no hay sesión -> manda a login
  if (!userId) {
    window.location.href = 'login.html';
  } else {
    // Cambia el enlace "Mi perfil" para pasar el id en la URL
    const aPerfil = document.querySelector('nav.menu a[href="perfil.html"]');
    if (aPerfil) aPerfil.href = `perfil.html?id=${encodeURIComponent(userId)}`;

    // Pone el nombre en el saludo (si lo guardas)
    const spanNombre = document.getElementById('nombreUsuario');
    if (spanNombre && userName) spanNombre.textContent = userName;
  }

  // Al salir, limpia la sesión (opcional)
  const aSalir = document.querySelector('nav.menu a[href="index.html"]');
  if (aSalir) {
    aSalir.addEventListener('click', () => {
      localStorage.removeItem('userId');
      localStorage.removeItem('userName');
      localStorage.removeItem('token');
    });
  }
</script>


<body>
  <!-- 🔹 Header superior -->
  <header class="navbar">
    <div class="logo">
      <img src="img/logo.png" alt="CarBid" />
    </div>
    <nav class="menu">
      <a href="historial-pujas.html">Historial Pujas</a>
      <a href="perfil.html">Mi perfil</a>
      <a href="index.html">Salir</a>
    </nav>
  </header>

  <!-- 🔹 Contenido principal -->
  <main class="panel-container">
    <h2>Bienvenid@ <span id="nombreUsuario">angiepsc</span></h2>
    <div class="botones">
      <button onclick="window.location.href='crear-publicacion.html'">Crear publicación</button>
      <button onclick="window.location.href='mis-subastas.html'">Listado de subastas creadas</button>
    </div>
  </main>
</body>
</html>
